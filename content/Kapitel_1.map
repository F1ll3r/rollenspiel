<?xml version="1.0"?>
<Map Name="Hopetown">
    <!--
        the ID is used for Game Events and in some cases as the Irrlich internal scene id
        Zero ( 0 ) is not a valid ID it is more the lack of one and will course the engine to dynamicly allocate one.
        do not use ID grater than 65536

        the name is used for displaying ingame
    -->

	<Sector ID="1" Name="Taverna">

        <Loading_Screen points="1" text="Erzeuge Terrain" />

		<Terrain Smoothing="10">
            <Scale X="60" Y="3" Z="60" />
			<Hightmap Value="content/Kapitel_1/terrain-heightmap.bmp" />
			<Texture Value="content/Kapitel_1/terrain-texture.jpg" />
			<Detailtexture Value="content/Kapitel_1/detailtex.jpg" />

			<Grass Density="800">
				<Grassmap Value="content/Kapitel_1/terrain-grassmap.png" />
				<Texture Value="content/Kapitel_1/grass.png" />
				<Colormap Value="content/Kapitel_1/terrain-grasscol.bmp" />
				<Wind Strength="30" Regularity="3" />
			</Grass>

			<Passable_Surface>
				<Triangle X1="" Z1="" X2="" Z2="" X3="" Z3="" />
			</Passable_Surface>
		</Terrain>

        <Loading_Screen points="15" text="Parse Light Sources" />


        <AmbientLight R="1" G="1" B="1" />

        <LightObject>
            <Color R="1" G="1" B="1" />
            <Position X="-1000" Y="30000" Z="-1000" />
            <Radius Value="5000000" />
        </LightObject>


			<!--
			Trigger:
				type:
                    -Time
					-Enter:     actor enters a polygon
					-Leave:       "   leaves "    "
					-Attack:    somone attacks actor
					-Talk:	    player says sothing to actor
					-Dies:      character actor dies
					-Meta: 	    this Trigger is supposed to be triggert by other Events
                                and can be use to implement boolen algebra with events
				actor:
					an ID or one of the following keywords:
						-Enemy
						-Player

			Effect:
				type:
					-SectorChange:
					-Damage:
					-Heal:
					-Trigger:       triggers metatrigger
					-Move:
					-Rotate:
					-Talk:


			-->
        <Loading_Screen points="15" text="Parse Events" />

        <Event>
			<Trigger Type="Enter" Actor="Player">
				<Box X1="" Y1="" Z1="" X2="" Y2="" Z2="" />
			</Trigger>
			<Effect Type="SectorChange">
				<EntyPoint SectorID="" X="" Y="" Z="" />
			</Effect>
		</Event>

		<Loading_Screen points="1" text="Lade Objekte" />

		<Loading_Screen points="5"/>

		<MapObject>
			<Mesh Value="content/proprietary/chapel_obj.obj" />
			<Texture Value="content/proprietary/chapel_diffuse.tga" />
			<Position X="26810" Y="130" Z="28236" />
			<Rotation X="0" Y="180" Z="0" />
			<Scale X="2" Y="2" Z="2" />
			<Collision Ground="false" Click="false" Collide="true">
		</MapObject>

		<Loading_Screen points="10"/>

		<MapObject>
			<Mesh Value="content/proprietary/house_obj.obj" />
			<Texture Value="content/proprietary/house_diffuse.tga" />
			<Position X="1876" Y="107" Z="7546" />
			<Rotation X="0" Y="0" Z="0" />
			<Scale X="1" Y="1" Z="1" />
			<Collision Ground="false" Click="false" Collide="true">
		</MapObject>

        <Loading_Screen points="10"/>

        <MapObject>
			<Mesh Value="content/proprietary/fw43_lowpoly_n1.3ds" />
			<Position X="4257" Y="80" Z="6472" />
			<Rotation X="0" Y="0" Z="0" />
			<Scale X="60" Y="60" Z="60" />
			<Collision Ground="false" Click="false" Collide="true">
		</MapObject>

		<MapObject>
			<Mesh Value="content/proprietary/tree.3ds" />
			<Position X="4257" Y="80" Z="4472" />
			<Rotation X="0" Y="0" Z="0" />
			<Scale X="1" Y="1" Z="1" />
			<Collision Ground="false" Click="false" Collide="true">
		</MapObject>

		<Loading_Screen points="10"/>

        <!--
            Team:
                0 Non
                1 Player
                2 standartEnemy
        -->


        <Loading_Screen points="20" text="Erzeuge NPC" />

        <NPC>
            <Health Max="100" Current="100" />
            <Speed Sneak="0.15" Normal="0.3" Run="0.45" />
            <Mesh Value="content/ninja.b3d" />
<!--            <Texture Value="content/nskinrd.jpg" />-->
            <Scale X="15" Y="15" Z="15" />
			<Position X="4752.67" Y="197.63" Z="1255.92" />
			<Rotation X="0" Y="0" Z="0" />
            <Inventory>
                <Weapon class="baton" name="Kurtzschwert">
                    <Image Value="" />
                    <Damage Value="12" />
                    <Speed Value="1" />
                    <Cost Value="40" />
                </Weapon>
            </Inventory>
            <AI>
                <Animation>
                    <Walk Type="Normal" SFrame="0" EFrame="13" Speed="15" Loop="true" />
                    <Walk Type="Run" SFrame="0" EFrame="13" Speed="25" Loop="true" />
                    <Walk Type="Stealth" SFrame="14" EFrame="29" Speed="15" Loop="true" />
                    <Idle Type="Exhausted" SFrame="183" EFrame="203" Speed="15" Loop="true" />
                    <Idle Type="Normal" SFrame="183" EFrame="203" Speed="15" Loop="true" />
                </Animation>
                <Behavior type="Aggressive">

                </Behavior>
            </AI>
		</NPC>

        <NPC>
            <Health Max="100" Current="100" />
            <Speed Sneak="0.15" Normal="0.3" Run="0.45" />
            <Mesh Value="content/proprietary/spider.obj" />
            <Scale X="1" Y="1" Z="1" />
			<Position X="3437" Y="136" Z="4489" />
			<Rotation X="0" Y="0" Z="0" />
            <Inventory>
                <Weapon class="baton" name="Kurtzschwert">
                    <Image Value="" />
                    <Damage Value="12" />
                    <Speed Value="1" />
                    <Cost Value="40" />
                </Weapon>
            </Inventory>
            <AI>
                <Animation>
                    <Walk Type="Normal" SFrame="0" EFrame="13" Speed="15" Loop="true" />
                    <Walk Type="Run" SFrame="0" EFrame="13" Speed="25" Loop="true" />
                    <Walk Type="Stealth" SFrame="14" EFrame="29" Speed="15" Loop="true" />
                    <Idle Type="Exhausted" SFrame="183" EFrame="203" Speed="15" Loop="true" />
                    <Idle Type="Normal" SFrame="0" EFrame="400" Speed="12" Loop="true" />
                </Animation>
                <Behavior type="Aggressive">

                </Behavior>
            </AI>
		</NPC>

		<NPC>
            <Health Max="100" Current="100" />
            <Speed Sneak="0.15" Normal="0.3" Run="0.45" />
            <Mesh Value="content/beast/beast.b3d" />
            <Texture Value="content/beast/beast1.jpg" />
            <Scale X="1" Y="1" Z="1" />
			<Position X="3437" Y="136" Z="6000" />
			<Rotation X="0" Y="0" Z="0" />
            <Inventory>
                <Weapon class="baton" name="Kurtzschwert">
                    <Image Value="" />
                    <Damage Value="12" />
                    <Speed Value="1" />
                    <Cost Value="40" />
                </Weapon>
            </Inventory>
            <AI>
                <Animation>
                    <Walk Type="Normal" SFrame="0" EFrame="25" Speed="15" Loop="true" />
                    <Walk Type="Run" SFrame="0" EFrame="25" Speed="25" Loop="true" />
                    <Walk Type="Stealth" SFrame="0" EFrame="25" Speed="15" Loop="true" />
                    <Idle Type="Exhausted" SFrame="331" EFrame="379" Speed="15" Loop="true" />
                    <Idle Type="Normal" SFrame="331" EFrame="379" Speed="15" Loop="true" />
                </Animation>
                <Behavior type="Aggressive">

                </Behavior>
            </AI>
		</NPC>

		<NPC>
            <Health Max="100" Current="100" />
            <Speed Sneak="0.15" Normal="0.3" Run="0.45" />
            <Mesh Value="content/zombie/zombie.b3d" />
<!--            <Texture Value="content/beast/beast1.jpg" />-->
            <Scale X="7" Y="7" Z="7" />
			<Position X="3437" Y="85" Z="8000" />
			<Rotation X="0" Y="0" Z="0" />
            <Inventory>
                <Weapon class="baton" name="Kurtzschwert">
                    <Image Value="" />
                    <Damage Value="12" />
                    <Speed Value="1" />
                    <Cost Value="40" />
                </Weapon>
            </Inventory>
            <AI>
                <Animation>
                    <Walk Type="Normal" SFrame="1" EFrame="19" Speed="15" Loop="true" />
                    <Walk Type="Run" SFrame="21" EFrame="35" Speed="25" Loop="true" />
                    <Walk Type="Stealth" SFrame="21" EFrame="35" Speed="15" Loop="true" />
                    <Idle Type="Exhausted" SFrame="136" EFrame="168" Speed="10" Loop="true" />
                    <Idle Type="Normal" SFrame="169" EFrame="199" Speed="10" Loop="true" />
                </Animation>
                <Behavior Type="Fight" Value="Agressive">
                    <Attack >

                </Behavior>
            </AI>
		</NPC>


<!--		<Dealer Name="Hugos Eisenwaren">-->
<!--            <Health Max="100" Current="100" />-->
<!--            <ExchangeRate Sell="1.2" Buy="0.7" />-->
<!--			<Mesh Value="" />-->
<!--			<Texture Value="" />-->
<!--			<Position X="" Y="" Z="" />-->
<!--			<Rotation X="" Y="" Z="" />-->
<!--			<Team ID="1" />-->
<!--            <Inventory>-->
<!--                <Weapon Class="baton" Name="Kurtzschwert">-->
<!--                    <Image Value="" />-->
<!--                    <Damage Value="12" />-->
<!--                    <Speed Value="1" />-->
<!--                    <Cost Value="40" />-->
<!--                </Weapon>-->
<!--            </Inventory>-->
<!--            <AI>-->
<!--                <Talk>-->
<!--                    <Context ID="1">-->
<!--                        <Text>Hallo Feund mein Name ist Hugo. Wie kann ich dir helfen?</Text>-->
<!--                        <Reply id="1">-->
<!--                            <Text>Zeig mir was du im Angebot hast!</Text>-->
<!--                            <Effect Type="talk">-->
<!--                                <OpenTrade />-->
<!--                            </Effect>-->
<!--                        </Reply>-->
<!--                        <Reply id="2">-->
<!--                            <Text>cu</Text>-->
<!--                            <Effect type="talk">-->
<!--                                <Exit />-->
<!--                            </Effect>-->
<!--                        </Reply>-->
<!--                    </Context>-->
<!--                </Talk>-->
<!--            </AI>-->
<!--		</Dealer>-->

		<Loading_Screen points="12" text="Erzeuge Spieler" />

		<Player>
            <Health Max="100" Current="100" />
            <Speed Sneak="0.15" Normal="0.3" Run="0.45" />
            <Mesh Value="content/ninja.b3d" />
<!--            <Mesh Value="content/proprietary/monster-character-high-3ds.3DS" />-->
            <Scale X="15" Y="15" Z="15" />
			<Position X="2752.67" Y="123.63" Z="1255.92" />
			<Rotation X="0" Y="0" Z="0" />
            <Inventory>
                <Weapon class="baton" name="Kurtzschwert">
                    <Image Value="" />
                    <Damage Value="12" />
                    <Speed Value="1" />
                    <Cost Value="40" />
                </Weapon>
            </Inventory>
            <AI>
                <Animation>
                    <Walk Type="Normal" SFrame="0" EFrame="13" Speed="15" Loop="true" />
                    <Walk Type="Run" SFrame="0" EFrame="13" Speed="25" Loop="true" />
                    <Walk Type="Stealth" SFrame="14" EFrame="29" Speed="15" Loop="true" />
                    <Idle Type="Exhausted" SFrame="183" EFrame="203" Speed="15" Loop="true" />
                    <Idle Type="Normal" SFrame="183" EFrame="203" Speed="15" Loop="true" />
                </Animation>
            </AI>
		</Player>

		<Loading_Screen points="100" text="Done!" />
	</Sector>
</Map>
