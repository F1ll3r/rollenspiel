<?xml version="1.0"?>
<Map Name="Hopetown">
    <!--
        the ID is used for Game Events and in some cases as the Irrlich internal scene id
        Zero ( 0 ) is not a valid ID it is more the lack of one and will course the engine to dynamicly allocate one.
        do not use ID grater than 65536

        the name is used for displaying ingame
    -->

	<Sector ID="1" Name="Taverna">

        <Loading_Screen points="1" text="Erzeuge Terrain" />

		<Terrain Smoothing="10">
            <Scale X="60" Y="3" Z="60" />
			<Hightmap Value="content/Kapitel_1/terrain-heightmap.bmp" />
			<Texture Value="content/Kapitel_1/terrain-texture.jpg" />
			<Detailtexture Value="content/Kapitel_1/detailtex.jpg" />

			<Grass Density="800">
				<Grassmap Value="content/Kapitel_1/terrain-grassmap.png" />
				<Texture Value="content/Kapitel_1/grass.png" />
				<Colormap Value="content/Kapitel_1/terrain-grasscol.bmp" />
				<Wind Strength="30" Regularity="3" />
			</Grass>

			<Passable_Surface>
				<Triangle X1="" Z1="" X2="" Z2="" X3="" Z3="" />
			</Passable_Surface>
		</Terrain>

        <Loading_Screen points="15" text="Parse Light Sources" />


        <AmbientLight R="0.5" G="0.5" B="0.5" />

        <LightObject>
            <Color R="1" G="1" B="1" />
            <Position X="-1000" Y="30000" Z="-1000" />
            <Radius Value="5000000" />
        </LightObject>


			<!--
			Trigger:
				type:
                    -Time
					-Enter:     actor enters a polygon
					-Leave:       "   leaves "    "
					-Attack:    somone attacks actor
					-Talk:	    player says sothing to actor
					-Dies:      character actor dies
					-Meta: 	    this Trigger is supposed to be triggert by other Events
                                and can be use to implement boolen algebra with events
				actor:
					an ID or one of the following keywords:
						-Enemy
						-Player

			Effect:
				type:
					-SectorChange:
					-Damage:
					-Heal:
					-Trigger:       triggers metatrigger
					-Move:
					-Rotate:
					-Talk:

			-->
        <Loading_Screen points="15" text="Parse Events" />

        <Event>
			<Trigger Type="Enter" Actor="Player">
				<Box X1="" Y1="" Z1="" X2="" Y2="" Z2="" />
			</Trigger>
			<Effect Type="SectorChange">
				<EntyPoint SectorID="" X="" Y="" Z="" />
			</Effect>
		</Event>

		<Loading_Screen points="1" text="Lade Objekte" />

		<Loading_Screen points="5"/>

		<MapObject>
			<Mesh Value="content/proprietary/chapel_obj.obj" />
			<Texture Value="content/proprietary/chapel_diffuse.tga" />
			<Position X="26810" Y="130" Z="28236" />
			<Rotation X="0" Y="180" Z="0" />
			<Scale X="2" Y="2" Z="2" />
			<Collision Ground="false" Click="false" Collide="true">
		</MapObject>

		<Loading_Screen points="10"/>

		<MapObject>
			<Mesh Value="content/proprietary/house_obj.obj" />
			<Texture Value="content/proprietary/house_diffuse.tga" />
			<Position X="1876" Y="107" Z="7546" />
			<Rotation X="0" Y="0" Z="0" />
			<Scale X="1" Y="1" Z="1" />
			<Collision Ground="false" Click="false" Collide="true">
		</MapObject>

        <Loading_Screen points="10"/>

        <MapObject>
			<Mesh Value="content/proprietary/fw43_lowpoly_n1.3ds" />
			<Position X="4257" Y="80" Z="6472" />
			<Rotation X="0" Y="0" Z="0" />
			<Scale X="60" Y="60" Z="60" />
			<Collision Ground="false" Click="false" Collide="true">
		</MapObject>

		<Loading_Screen points="10"/>

        <!--
            Team:
                0 Non
                1 Player
                2 standartEnemy
        -->


        <Loading_Screen points="20" text="Erzeuge NPC" />




		<NPC>
            <Health Max="600" Current="600" />
            <Speed Sneak="0.10" Normal="0.20" Run="0.35" />
            <Defense Value="45" />
            <Mesh Value="content/beast/beast.b3d" />
<!--            <Texture Value="content/beast/beast1.jpg" />-->
            <Scale X="1" Y="1" Z="1" />
			<Position X="3437" Y="136" Z="6000" />
			<Rotation X="0" Y="0" Z="0" />
			<RotationOffset X="0" Y="180" Z="0" />
            <AI>
                <Animation>
                    <Walk Type="Normal" SFrame="0" EFrame="24" Speed="25" Loop="true" />
                    <Walk Type="Run" SFrame="0" EFrame="24" Speed="35" Loop="true" />
                    <Walk Type="Stealth" SFrame="0" EFrame="24" Speed="15" Loop="true" />
                    <Idle Type="Exhausted" SFrame="331" EFrame="379" Speed="15" Loop="true" />
                    <Idle Type="Normal" SFrame="331" EFrame="379" Speed="20" Loop="true" />
                    <Attack Type="Headbutt" SFrame="181" EFrame="194" Speed="12" Loop="false"/>
                    <Attack Type="Bite" SFrame="196" EFrame="209" Speed="12" Loop="false"/>
                    <Attack Type="Bite2" SFrame="211" EFrame="229" Speed="12" Loop="false"/>
                    <Attack Type="Stomp" SFrame="231" EFrame="269" Speed="12" Loop="false"/>
                    <Other Type="BlockHit" SFrame="121" EFrame="149" Speed="11" Loop="false"/>
                    <Other Type="TakeHit" SFrame="271" EFrame="287" Speed="17" Loop="false"/>
                    <Other Type="Die" SFrame="381" EFrame="399" Speed="17" Loop="false"/>
                </Animation>
                <Team Value="1" />
            </AI>
            <Attacks>
                <Attack Name="Headbutt" Label="" Dmg="15" Attack="100" Time="3000" TimeOffset="500"/>
                <Attack Name="Bite" Label="" Dmg="7" Attack="100" Time="2000" TimeOffset="300"/>
                <Attack Name="Bite2" Label="" Dmg="5" Attack="100" Time="1800" TimeOffset="300"/>
                <Attack Name="Stomp" Label="" Dmg="9" Attack="100" Time="2200" TimeOffset="300"/>
            </Attacks>
		</NPC>

		<NPC>
            <Health Max="50" Current="50" />
            <Speed Sneak="0.05" Normal="0.1" Run="0.25" />
            <Mesh Value="content/zombie/zombie.b3d" />
            <Defense Value="60" />
            <RotationOffset X="0" Y="180" Z="0" />
            <Scale X="7" Y="7" Z="7" />
			<Position X="3437" Y="85" Z="8000" />
			<Rotation X="0" Y="0" Z="0" />
            <AI>
                <Animation>
                    <Walk Type="Normal" SFrame="1" EFrame="19" Speed="15" Loop="true" />
                    <Walk Type="Run" SFrame="1" EFrame="19" Speed="25" Loop="true" />
                    <Walk Type="Stealth" SFrame="21" EFrame="35" Speed="15" Loop="true" />
                    <Idle Type="Exhausted" SFrame="169" EFrame="199" Speed="15" Loop="true" />
                    <Idle Type="Normal" SFrame="136" EFrame="168" Speed="15" Loop="true" />
                    <Attack Type="HeadButt" SFrame="128" EFrame="135" Speed="12" Loop="false"/>
                    <Attack Type="Kick" SFrame="105" EFrame="114" Speed="12" Loop="false"/>
                    <Attack Type="Punch" SFrame="116" EFrame="127" Speed="12" Loop="false"/>
                    <Other Type="BlockHit" SFrame="47" EFrame="56" Speed="11" Loop="false"/>
                    <Other Type="TakeHit" SFrame="37" EFrame="46" Speed="17" Loop="false"/>
                    <Other Type="Die" SFrame="90" EFrame="102" Speed="17" Loop="false"/>
                </Animation>
                <Team Value="1" />
            </AI>
            <Attacks>
                <Attack Name="HeadButt" Label="" Dmg="10" Attack="80" Time="3000" TimeOffset="500"/>
                <Attack Name="Kick" Label="" Dmg="11" Attack="90" Time="2000" TimeOffset="300"/>
                <Attack Name="Punch" Label="" Dmg="7" Attack="100" Time="1800" TimeOffset="300"/>
            </Attacks>
		</NPC>



		<Loading_Screen points="12" text="Erzeuge Spieler" />

		<Player>
            <Health Max="250" Current="250" />
            <Defense Value="100" />
            <Speed Sneak="0.15" Normal="0.3" Run="0.45" />
            <Mesh Value="content/ninja.b3d" />
            <Scale X="15" Y="15" Z="15" />
			<Position X="2752.67" Y="123.63" Z="1255.92" />
			<Rotation X="0" Y="0" Z="0" />
            <AI>
                <Animation>
                    <Walk Type="Normal" SFrame="0" EFrame="13" Speed="15" Loop="true" />
                    <Walk Type="Run" SFrame="0" EFrame="13" Speed="25" Loop="true" />
                    <Walk Type="Stealth" SFrame="14" EFrame="29" Speed="15" Loop="true" />
                    <Idle Type="Exhausted" SFrame="183" EFrame="203" Speed="15" Loop="true" />
                    <Idle Type="Normal" SFrame="183" EFrame="203" Speed="15" Loop="true" />
                    <Attack Type="FinishHim" SFrame="111" EFrame="123" Speed="12" Loop="false"/>
                    <Attack Type="PunchSwipe" SFrame="31" EFrame="43" Speed="12" Loop="false"/>
                    <Attack Type="Swipe" SFrame="44" EFrame="58" Speed="12" Loop="false"/>
                    <Attack Type="kick" SFrame="71" EFrame="82" Speed="12" Loop="false"/>
                    <Other Type="BlockHit" SFrame="68" EFrame="71" Speed="11" Loop="false"/>
                    <Other Type="TakeHit" SFrame="165" EFrame="166" Speed="17" Loop="false"/>
                    <Other Type="Die" SFrame="173" EFrame="181" Speed="17" Loop="false"/>
                </Animation>
                <Team Value="1" />
            </AI>
            <Attacks>
                <Attack Name="FinishHim" Label="" Dmg="30" Attack="100" Time="6000" TimeOffset="500"/>
                <Attack Name="PunchSwipe" Label="" Dmg="10" Attack="90" Time="2000" TimeOffset="300"/>
                <Attack Name="Swipe" Label="" Dmg="7" Attack="110" Time="1800" TimeOffset="300"/>
                <Attack Name="kick" Label="" Dmg="14" Attack="85" Time="2200" TimeOffset="300"/>
            </Attacks>
		</Player>
		<Loading_Screen points="100" text="Done!" />
	</Sector>
</Map>
